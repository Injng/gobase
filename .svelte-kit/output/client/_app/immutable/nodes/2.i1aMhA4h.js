import{s as Ne,a as Je,x as te,u as Qe,g as xe,b as et,y as pt,z as be,r as Ft,o as It,e as ut}from"../chunks/scheduler.CfYsyzRB.js";import{S as Pe,i as je,y as B,m as qe,z as H,a as S,d as w,A as Ke,g as We,h as u,k as O,l as q,B as Tt,u as fe,v as ue,w as he,x as de,e as T,s as I,t as Fe,c as z,C as yt,f as P,b as Ie,o as i,p as b,D as A,E as Pt,n as jt,j as Wt,q as Gt}from"../chunks/index.DIj3ZpPr.js";const Bt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ze(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ge(t,e){const a={},l={},n={$$scope:1};let s=t.length;for(;s--;){const o=t[s],h=e[s];if(h){for(const r in o)r in h||(l[r]=1);for(const r in h)n[r]||(a[r]=h[r],n[r]=1);t[s]=h}else for(const r in o)n[r]=1}for(const o in l)o in a||(a[o]=void 0);return a}function gt(t){return typeof t=="object"&&t!==null?t:{}}function Ht(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function St(t,e=!1){const a=Ht(),l=`_${a}`;return Object.defineProperty(window,l,{value:n=>(e&&Reflect.deleteProperty(window,l),t==null?void 0:t(n)),writable:!1,configurable:!0}),a}async function F(t,e={}){return new Promise((a,l)=>{const n=St(o=>{a(o),Reflect.deleteProperty(window,`_${s}`)},!0),s=St(o=>{l(o),Reflect.deleteProperty(window,`_${n}`)},!0);window.__TAURI_IPC__({cmd:t,callback:n,error:s,...e})})}async function zt(t){return F("tauri",t)}async function Et(t={}){return typeof t=="object"&&Object.freeze(t),zt({__tauriModule:"Dialog",message:{cmd:"openDialog",options:t}})}async function Mt(t={}){return typeof t=="object"&&Object.freeze(t),zt({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:t}})}/**
 * @license lucide-svelte v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Nt(t,e,a){const l=t.slice();return l[11]=e[a][0],l[12]=e[a][1],l}function ht(t){let e,a=[t[12]],l={};for(let n=0;n<a.length;n+=1)l=te(l,a[n]);return{c(){e=B(t[11]),this.h()},l(n){e=H(n,t[11],{}),S(e).forEach(w),this.h()},h(){Ke(e,l)},m(n,s){We(n,e,s)},p(n,s){Ke(e,l=Ge(a,[s&32&&n[12]]))},d(n){n&&w(e)}}}function Vt(t){let e=t[11],a,l=t[11]&&ht(t);return{c(){l&&l.c(),a=qe()},l(n){l&&l.l(n),a=qe()},m(n,s){l&&l.m(n,s),We(n,a,s)},p(n,s){n[11]?e?Ne(e,n[11])?(l.d(1),l=ht(n),e=n[11],l.c(),l.m(a.parentNode,a)):l.p(n,s):(l=ht(n),e=n[11],l.c(),l.m(a.parentNode,a)):e&&(l.d(1),l=null,e=n[11])},d(n){n&&w(a),l&&l.d(n)}}}function Ot(t){let e,a,l,n,s,o=Ze(t[5]),h=[];for(let c=0;c<o.length;c+=1)h[c]=Vt(Nt(t,o,c));const r=t[10].default,p=Je(r,t,t[9],null);let $=[Ct,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":l=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:n=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],E={};for(let c=0;c<$.length;c+=1)E=te(E,$[c]);return{c(){e=B("svg");for(let c=0;c<h.length;c+=1)h[c].c();a=qe(),p&&p.c(),this.h()},l(c){e=H(c,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var v=S(e);for(let d=0;d<h.length;d+=1)h[d].l(v);a=qe(),p&&p.l(v),v.forEach(w),this.h()},h(){Ke(e,E)},m(c,v){We(c,e,v);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(e,null);u(e,a),p&&p.m(e,null),s=!0},p(c,[v]){if(v&32){o=Ze(c[5]);let d;for(d=0;d<o.length;d+=1){const V=Nt(c,o,d);h[d]?h[d].p(V,v):(h[d]=Vt(V),h[d].c(),h[d].m(e,a))}for(;d<h.length;d+=1)h[d].d(1);h.length=o.length}p&&p.p&&(!s||v&512)&&Qe(p,r,c,c[9],s?et(r,c[9],v,null):xe(c[9]),null),Ke(e,E=Ge($,[Ct,v&128&&c[7],(!s||v&4)&&{width:c[2]},(!s||v&4)&&{height:c[2]},(!s||v&2)&&{stroke:c[1]},(!s||v&28&&l!==(l=c[4]?Number(c[3])*24/Number(c[2]):c[3]))&&{"stroke-width":l},(!s||v&257&&n!==(n=c[6]("lucide-icon","lucide",c[0]?`lucide-${c[0]}`:"",c[8].class)))&&{class:n}]))},i(c){s||(O(p,c),s=!0)},o(c){q(p,c),s=!1},d(c){c&&w(e),Tt(h,c),p&&p.d(c)}}}function Lt(t,e,a){const l=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let n=pt(e,l),{$$slots:s={},$$scope:o}=e,{name:h=void 0}=e,{color:r="currentColor"}=e,{size:p=24}=e,{strokeWidth:$=2}=e,{absoluteStrokeWidth:E=!1}=e,{iconNode:c=[]}=e;const v=(...d)=>d.filter((V,D,Z)=>!!V&&Z.indexOf(V)===D).join(" ");return t.$$set=d=>{a(8,e=te(te({},e),be(d))),a(7,n=pt(e,l)),"name"in d&&a(0,h=d.name),"color"in d&&a(1,r=d.color),"size"in d&&a(2,p=d.size),"strokeWidth"in d&&a(3,$=d.strokeWidth),"absoluteStrokeWidth"in d&&a(4,E=d.absoluteStrokeWidth),"iconNode"in d&&a(5,c=d.iconNode),"$$scope"in d&&a(9,o=d.$$scope)},e=be(e),[h,r,p,$,E,c,v,n,e,o,s]}class mt extends Pe{constructor(e){super(),je(this,e,Lt,Ot,Ne,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Ut(t){let e;const a=t[2].default,l=Je(a,t,t[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&8)&&Qe(l,a,n,n[3],e?et(a,n[3],s,null):xe(n[3]),null)},i(n){e||(O(l,n),e=!0)},o(n){q(l,n),e=!1},d(n){l&&l.d(n)}}}function Xt(t){let e,a;const l=[{name:"file-text"},t[1],{iconNode:t[0]}];let n={$$slots:{default:[Ut]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)n=te(n,l[s]);return e=new mt({props:n}),{c(){fe(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){he(e,s,o),a=!0},p(s,[o]){const h=o&3?Ge(l,[l[0],o&2&&gt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(h.$$scope={dirty:o,ctx:s}),e.$set(h)},i(s){a||(O(e.$$.fragment,s),a=!0)},o(s){q(e.$$.fragment,s),a=!1},d(s){de(e,s)}}}function Yt(t,e,a){let{$$slots:l={},$$scope:n}=e;const s=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];return t.$$set=o=>{a(1,e=te(te({},e),be(o))),"$$scope"in o&&a(3,n=o.$$scope)},e=be(e),[s,e,l,n]}class Rt extends Pe{constructor(e){super(),je(this,e,Yt,Xt,Ne,{})}}function qt(t){let e;const a=t[2].default,l=Je(a,t,t[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&8)&&Qe(l,a,n,n[3],e?et(a,n[3],s,null):xe(n[3]),null)},i(n){e||(O(l,n),e=!0)},o(n){q(l,n),e=!1},d(n){l&&l.d(n)}}}function Kt(t){let e,a;const l=[{name:"rewind"},t[1],{iconNode:t[0]}];let n={$$slots:{default:[qt]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)n=te(n,l[s]);return e=new mt({props:n}),{c(){fe(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){he(e,s,o),a=!0},p(s,[o]){const h=o&3?Ge(l,[l[0],o&2&&gt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(h.$$scope={dirty:o,ctx:s}),e.$set(h)},i(s){a||(O(e.$$.fragment,s),a=!0)},o(s){q(e.$$.fragment,s),a=!1},d(s){de(e,s)}}}function Zt(t,e,a){let{$$slots:l={},$$scope:n}=e;const s=[["polygon",{points:"11 19 2 12 11 5 11 19"}],["polygon",{points:"22 19 13 12 22 5 22 19"}]];return t.$$set=o=>{a(1,e=te(te({},e),be(o))),"$$scope"in o&&a(3,n=o.$$scope)},e=be(e),[s,e,l,n]}class Jt extends Pe{constructor(e){super(),je(this,e,Zt,Kt,Ne,{})}}function Qt(t){let e;const a=t[2].default,l=Je(a,t,t[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&8)&&Qe(l,a,n,n[3],e?et(a,n[3],s,null):xe(n[3]),null)},i(n){e||(O(l,n),e=!0)},o(n){q(l,n),e=!1},d(n){l&&l.d(n)}}}function xt(t){let e,a;const l=[{name:"save"},t[1],{iconNode:t[0]}];let n={$$slots:{default:[Qt]},$$scope:{ctx:t}};for(let s=0;s<l.length;s+=1)n=te(n,l[s]);return e=new mt({props:n}),{c(){fe(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){he(e,s,o),a=!0},p(s,[o]){const h=o&3?Ge(l,[l[0],o&2&&gt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(h.$$scope={dirty:o,ctx:s}),e.$set(h)},i(s){a||(O(e.$$.fragment,s),a=!0)},o(s){q(e.$$.fragment,s),a=!1},d(s){de(e,s)}}}function el(t,e,a){let{$$slots:l={},$$scope:n}=e;const s=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];return t.$$set=o=>{a(1,e=te(te({},e),be(o))),"$$scope"in o&&a(3,n=o.$$scope)},e=be(e),[s,e,l,n]}class dt extends Pe{constructor(e){super(),je(this,e,el,xt,Ne,{})}}const{window:tl}=Bt;function $t(t,e,a){const l=t.slice();return l[39]=e[a],l}function Dt(t){let e,a,l,n=t[39].name+"",s,o,h,r,p;a=new Jt({props:{class:"mr-2",size:16}});function $(){return t[19](t[39])}return{c(){e=T("button"),fe(a.$$.fragment),l=I(),s=Fe(n),o=I(),this.h()},l(E){e=z(E,"BUTTON",{class:!0});var c=S(e);ue(a.$$.fragment,c),l=P(c),s=Ie(c,n),o=P(c),c.forEach(w),this.h()},h(){i(e,"class","w-full bg-gray-600 hover:bg-gray-500 text-white p-2 rounded mb-1 flex items-center justify-start")},m(E,c){We(E,e,c),he(a,e,null),u(e,l),u(e,s),u(e,o),h=!0,r||(p=A(e,"click",$),r=!0)},p(E,c){t=E,(!h||c[0]&32)&&n!==(n=t[39].name+"")&&Wt(s,n)},i(E){h||(O(a.$$.fragment,E),h=!0)},o(E){q(a.$$.fragment,E),h=!1},d(E){E&&w(e),de(a),r=!1,p()}}}function ll(t){let e,a,l='<div class="text-3xl">Gobase</div>',n,s,o,h,r,p,$,E,c,v,d,V,D,Z,le,Be="Saved States",L,U,Ve,Ee,ne,se,Re,re,$e,K,De,ie,J,Q,j,Te,x,W,ze,X,G,Y,f,m,g,_,y,M,ge,ee,ae,ce,Ae,tt,me,we,lt,nt,_e,ke,st,oe,rt,_t;v=new dt({props:{class:"mr-2",size:16}}),U=new Rt({props:{size:16}});let pe=Ze(t[5]),N=[];for(let k=0;k<pe.length;k+=1)N[k]=Dt($t(t,pe,k));const At=k=>q(N[k],1,1,()=>{N[k]=null});return ce=new dt({props:{class:"mr-2",size:16}}),we=new Rt({props:{class:"mr-2",size:16}}),ke=new dt({props:{class:"mr-2",size:16}}),{c(){e=T("div"),a=T("div"),a.innerHTML=l,n=I(),s=T("div"),o=T("div"),h=T("div"),r=B("svg"),p=B("path"),$=I(),E=T("div"),c=T("button"),fe(v.$$.fragment),d=Fe(`
                    Save State`),V=I(),D=T("div"),Z=T("div"),le=T("span"),le.textContent=Be,L=I(),fe(U.$$.fragment),Ve=I();for(let k=0;k<N.length;k+=1)N[k].c();Ee=I(),ne=T("div"),se=T("canvas"),Re=I(),re=T("canvas"),$e=I(),K=T("canvas"),De=I(),ie=T("div"),J=T("div"),Q=B("svg"),j=B("circle"),Te=I(),x=B("svg"),W=B("circle"),ze=I(),X=B("svg"),G=B("circle"),Y=B("rect"),f=B("rect"),m=I(),g=B("svg"),_=B("circle"),y=B("rect"),M=B("rect"),ge=I(),ee=T("div"),ae=T("button"),fe(ce.$$.fragment),Ae=Fe(`
                    Save Game`),tt=I(),me=T("button"),fe(we.$$.fragment),lt=Fe(`
                    Load Game`),nt=I(),_e=T("button"),fe(ke.$$.fragment),st=Fe(`
                    Save SGF`),this.h()},l(k){e=z(k,"DIV",{class:!0});var R=S(e);a=z(R,"DIV",{class:!0,"data-svelte-h":!0}),yt(a)!=="svelte-1aw2kl3"&&(a.innerHTML=l),n=P(R),s=z(R,"DIV",{class:!0});var C=S(s);o=z(C,"DIV",{class:!0});var ye=S(o);h=z(ye,"DIV",{class:!0});var vt=S(h);r=H(vt,"svg",{width:!0,height:!0,role:!0,fill:!0,tabindex:!0});var bt=S(r);p=H(bt,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(p).forEach(w),bt.forEach(w),vt.forEach(w),$=P(ye),E=z(ye,"DIV",{class:!0});var He=S(E);c=z(He,"BUTTON",{class:!0});var at=S(c);ue(v.$$.fragment,at),d=Ie(at,`
                    Save State`),at.forEach(w),V=P(He),D=z(He,"DIV",{class:!0});var Oe=S(D);Z=z(Oe,"DIV",{class:!0});var Le=S(Z);le=z(Le,"SPAN",{"data-svelte-h":!0}),yt(le)!=="svelte-sn0glt"&&(le.textContent=Be),L=P(Le),ue(U.$$.fragment,Le),Le.forEach(w),Ve=P(Oe);for(let ft=0;ft<N.length;ft+=1)N[ft].l(Oe);Oe.forEach(w),He.forEach(w),ye.forEach(w),Ee=P(C),ne=z(C,"DIV",{class:!0});var Me=S(ne);se=z(Me,"CANVAS",{class:!0,width:!0,height:!0}),S(se).forEach(w),Re=P(Me),re=z(Me,"CANVAS",{width:!0,height:!0,class:!0}),S(re).forEach(w),$e=P(Me),K=z(Me,"CANVAS",{width:!0,height:!0,class:!0}),S(K).forEach(w),Me.forEach(w),De=P(C),ie=z(C,"DIV",{class:!0});var Ue=S(ie);J=z(Ue,"DIV",{});var ve=S(J);Q=H(ve,"svg",{width:!0,height:!0,role:!0,tabindex:!0});var wt=S(Q);j=H(wt,"circle",{style:!0,id:!0,cx:!0,cy:!0,r:!0}),S(j).forEach(w),wt.forEach(w),Te=P(ve),x=H(ve,"svg",{width:!0,height:!0,role:!0,tabindex:!0});var kt=S(x);W=H(kt,"circle",{style:!0,id:!0,cx:!0,cy:!0,r:!0}),S(W).forEach(w),kt.forEach(w),ze=P(ve),X=H(ve,"svg",{width:!0,height:!0,role:!0,tabindex:!0});var Xe=S(X);G=H(Xe,"circle",{style:!0,id:!0,cx:!0,cy:!0,r:!0}),S(G).forEach(w),Y=H(Xe,"rect",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0}),S(Y).forEach(w),f=H(Xe,"rect",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0,transform:!0}),S(f).forEach(w),Xe.forEach(w),m=P(ve),g=H(ve,"svg",{width:!0,height:!0,role:!0,tabindex:!0});var Ye=S(g);_=H(Ye,"circle",{style:!0,id:!0,cx:!0,cy:!0,r:!0}),S(_).forEach(w),y=H(Ye,"rect",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0}),S(y).forEach(w),M=H(Ye,"rect",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0,transform:!0}),S(M).forEach(w),Ye.forEach(w),ve.forEach(w),ge=P(Ue),ee=z(Ue,"DIV",{class:!0});var Ce=S(ee);ae=z(Ce,"BUTTON",{class:!0});var it=S(ae);ue(ce.$$.fragment,it),Ae=Ie(it,`
                    Save Game`),it.forEach(w),tt=P(Ce),me=z(Ce,"BUTTON",{class:!0});var ot=S(me);ue(we.$$.fragment,ot),lt=Ie(ot,`
                    Load Game`),ot.forEach(w),nt=P(Ce),_e=z(Ce,"BUTTON",{class:!0});var ct=S(_e);ue(ke.$$.fragment,ct),st=Ie(ct,`
                    Save SGF`),ct.forEach(w),Ce.forEach(w),Ue.forEach(w),C.forEach(w),R.forEach(w),this.h()},h(){i(a,"class","text-center p-6 bg-slate-500 text-white"),i(p,"d","M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H12M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19M19 9V12M17 19H21M19 17V21"),i(p,"stroke","#FFFFFF"),i(p,"stroke-linecap","round"),i(p,"stroke-linejoin","round"),i(r,"width","50px"),i(r,"height","50px"),i(r,"role","button"),i(r,"fill","none"),i(r,"tabindex","-1"),i(h,"class","p-4"),i(c,"class","bg-blue-500 hover:bg-blue-600 text-white p-2 rounded flex items-center justify-center"),i(Z,"class","flex items-center justify-between mb-2"),i(D,"class","bg-gray-700 p-2 mt-2 rounded"),i(E,"class","p-4"),i(o,"class","grid grid-rows-[200px_auto]"),i(se,"class","absolute left-1/2 transform -translate-x-1/2"),i(se,"width",t[3]),i(se,"height",t[4]),i(re,"width",t[3]),i(re,"height",t[4]),i(re,"class","absolute left-1/2 transform -translate-x-1/2"),i(K,"width",t[3]),i(K,"height",t[4]),i(K,"class","absolute left-1/2 transform -translate-x-1/2"),i(ne,"class","relative"),b(j,"fill","#000000"),b(j,"fill-opacity","0"),b(j,"stroke","#fffbfb"),b(j,"stroke-width","1.565"),b(j,"stroke-dasharray","none"),b(j,"stroke-opacity","1"),i(j,"id","path1"),i(j,"cx","20"),i(j,"cy","20"),i(j,"r","10"),i(Q,"width","50px"),i(Q,"height","40px"),i(Q,"role","button"),i(Q,"tabindex","-1"),b(W,"fill","#fffbfb"),b(W,"fill-opacity","1"),b(W,"stroke","#fffbfb"),b(W,"stroke-width","1.565"),b(W,"stroke-dasharray","none"),b(W,"stroke-opacity","1"),i(W,"id","path1"),i(W,"cx","20"),i(W,"cy","20"),i(W,"r","10"),i(x,"width","50px"),i(x,"height","40px"),i(x,"role","button"),i(x,"tabindex","-1"),b(G,"fill","#000000"),b(G,"fill-opacity","0"),b(G,"stroke","#fffbfb"),b(G,"stroke-width","1.565"),b(G,"stroke-dasharray","none"),b(G,"stroke-opacity","1"),i(G,"id","path1"),i(G,"cx","20"),i(G,"cy","20"),i(G,"r","10"),b(Y,"fill","#000000"),b(Y,"fill-opacity","0"),b(Y,"stroke","#fffbfb"),b(Y,"stroke-width","1.41226"),i(Y,"id","rect1"),i(Y,"width","0.012675161"),i(Y,"height","6.5395594"),i(Y,"x","33.037266"),i(Y,"y","7.2474785"),b(f,"fill","#000000"),b(f,"fill-opacity","0"),b(f,"stroke","#fffbfb"),b(f,"stroke-width","1.41226"),i(f,"id","rect1-5"),i(f,"width","0.012675161"),i(f,"height","6.5395594"),i(f,"x","10.456588"),i(f,"y","-36.335133"),i(f,"transform","rotate(90)"),i(X,"width","50px"),i(X,"height","40px"),i(X,"role","button"),i(X,"tabindex","-1"),b(_,"fill","#fffbfb"),b(_,"fill-opacity","1"),b(_,"stroke","#fffbfb"),b(_,"stroke-width","1.565"),b(_,"stroke-dasharray","none"),b(_,"stroke-opacity","1"),i(_,"id","path1"),i(_,"cx","20"),i(_,"cy","20"),i(_,"r","10"),b(y,"fill","#000000"),b(y,"fill-opacity","0"),b(y,"stroke","#fffbfb"),b(y,"stroke-width","1.41226"),i(y,"id","rect1"),i(y,"width","0.012675161"),i(y,"height","6.5395594"),i(y,"x","33.037266"),i(y,"y","7.2474785"),b(M,"fill","#000000"),b(M,"fill-opacity","0"),b(M,"stroke","#fffbfb"),b(M,"stroke-width","1.41226"),i(M,"id","rect1-5"),i(M,"width","0.012675161"),i(M,"height","6.5395594"),i(M,"x","10.456588"),i(M,"y","-36.335133"),i(M,"transform","rotate(90)"),i(g,"width","50px"),i(g,"height","40px"),i(g,"role","button"),i(g,"tabindex","-1"),i(ae,"class","bg-blue-500 hover:bg-blue-600 text-white p-2 rounded flex items-center justify-center"),i(me,"class","mt-2 bg-blue-500 hover:bg-blue-600 text-white p-2 rounded flex items-center justify-center"),i(_e,"class","mt-2 bg-gray-600 hover:bg-gray-700 text-white p-2 rounded flex items-center justify-center"),i(ee,"class","p-4"),i(ie,"class","grid grid-rows-[200px_auto]"),i(s,"class","grid grid-cols-[10%_auto_10%] bg-slate-500 text-white"),i(e,"class","grid grid-rows-[100px_200px_auto]")},m(k,R){We(k,e,R),u(e,a),u(e,n),u(e,s),u(s,o),u(o,h),u(h,r),u(r,p),u(o,$),u(o,E),u(E,c),he(v,c,null),u(c,d),u(E,V),u(E,D),u(D,Z),u(Z,le),u(Z,L),he(U,Z,null),u(D,Ve);for(let C=0;C<N.length;C+=1)N[C]&&N[C].m(D,null);u(s,Ee),u(s,ne),u(ne,se),t[20](se),u(ne,Re),u(ne,re),t[21](re),u(ne,$e),u(ne,K),t[22](K),u(s,De),u(s,ie),u(ie,J),u(J,Q),u(Q,j),u(J,Te),u(J,x),u(x,W),u(J,ze),u(J,X),u(X,G),u(X,Y),u(X,f),u(J,m),u(J,g),u(g,_),u(g,y),u(g,M),u(ie,ge),u(ie,ee),u(ee,ae),he(ce,ae,null),u(ae,Ae),u(ee,tt),u(ee,me),he(we,me,null),u(me,lt),u(ee,nt),u(ee,_e),he(ke,_e,null),u(_e,st),oe=!0,rt||(_t=[A(tl,"keydown",Pt(t[13])),A(r,"click",t[14]),A(r,"keydown",nl),A(c,"click",t[6]),A(K,"mousemove",t[11]),A(K,"click",t[12]),A(Q,"click",t[15]),A(Q,"keydown",sl),A(x,"click",t[16]),A(x,"keydown",rl),A(X,"click",t[17]),A(X,"keydown",al),A(g,"click",t[18]),A(g,"keydown",il),A(ae,"click",t[9]),A(me,"click",t[10]),A(_e,"click",t[8])],rt=!0)},p(k,R){if(R[0]&160){pe=Ze(k[5]);let C;for(C=0;C<pe.length;C+=1){const ye=$t(k,pe,C);N[C]?(N[C].p(ye,R),O(N[C],1)):(N[C]=Dt(ye),N[C].c(),O(N[C],1),N[C].m(D,null))}for(Gt(),C=pe.length;C<N.length;C+=1)At(C);jt()}(!oe||R[0]&8)&&i(se,"width",k[3]),(!oe||R[0]&16)&&i(se,"height",k[4]),(!oe||R[0]&8)&&i(re,"width",k[3]),(!oe||R[0]&16)&&i(re,"height",k[4]),(!oe||R[0]&8)&&i(K,"width",k[3]),(!oe||R[0]&16)&&i(K,"height",k[4])},i(k){if(!oe){O(v.$$.fragment,k),O(U.$$.fragment,k);for(let R=0;R<pe.length;R+=1)O(N[R]);O(ce.$$.fragment,k),O(we.$$.fragment,k),O(ke.$$.fragment,k),oe=!0}},o(k){q(v.$$.fragment,k),q(U.$$.fragment,k),N=N.filter(Boolean);for(let R=0;R<N.length;R+=1)q(N[R]);q(ce.$$.fragment,k),q(we.$$.fragment,k),q(ke.$$.fragment,k),oe=!1},d(k){k&&w(e),de(v),de(U),Tt(N,k),t[20](null),t[21](null),t[22](null),de(ce),de(we),de(ke),rt=!1,Ft(_t)}}}function Se(t,e,a,l,n){const s=t.createRadialGradient(e-l/3,a-l/3,l/8,e,a,l);s.addColorStop(0,n==="black"?"#505050":"#FFFFFF"),s.addColorStop(1,n==="black"?"#000000":"#D4D4D4"),t.beginPath(),t.arc(e+2,a+2,l,0,2*Math.PI),t.fillStyle="rgba(0, 0, 0, 0.3)",t.fill(),t.beginPath(),t.arc(e,a,l,0,2*Math.PI),t.fillStyle=s,t.fill(),t.strokeStyle=n==="black"?"#303030":"#A0A0A0",t.lineWidth=1,t.stroke()}const nl=()=>{},sl=()=>{},rl=()=>{},al=()=>{},il=()=>{};function ol(t,e,a){let l,n,s,o,h,r,p,$,E,c,v,d,V,D="black",Z=!1,le=!0;async function Be(){o=await F("get_rows"),h=await F("get_cols"),o-=1,h-=1,r=40,a(3,p=(h+2)*r),a(4,$=(o+2)*r)}It(async()=>{await Be(),window.addEventListener("resize",W),console.log("Window resized to: "+window.innerWidth+"x"+window.innerHeight),v=l.getContext("2d"),d=n.getContext("2d"),d.globalAlpha=.3,V=s.getContext("2d"),v.fillStyle="#dcae6b",v.fillRect(0,0,p,$),v.beginPath();let f=r,m=r;for(;f<p||m<$;)v.moveTo(f,r),v.lineTo(f,r+r*o),f+=r,v.moveTo(r,m),v.lineTo(r+r*h,m),m+=r;v.stroke(),v.fillStyle="#000000";let g=[[3,3],[9,3],[15,3],[3,9],[9,9],[15,9],[3,15],[9,15],[15,15]];for(let y=0;y<g.length;y++){let[M,ge]=g[y];v.beginPath(),v.arc(r*M+r,r*ge+r,5,0,2*Math.PI),v.fill()}await F("reset");let _=await F("init_states");for(let y=0;y<_;y++){const M={id:U,name:`State ${L.length+1}`};a(5,L=[...L,M]),U+=1}});let L=[],U=0;async function Ve(){const f={id:U,name:`State ${L.length+1}`};a(5,L=[...L,f]),U+=1,await F("save_state")}async function Ee(f){let m=await F("revert_state",{stateIdx:f});V.clearRect(0,0,p,$);for(let g=0;g<m.length;g++){let[_,y,M]=m[g];Se(V,r*y+r,r*_+r,r/2-2,M===1?"black":"white")}}async function ne(){const f=await Mt({filters:[{name:"SGF",extensions:["sgf"]}]});await F("save_sgf",{file:f})}async function se(){const f=await Mt({filters:[{name:"Saved",extensions:["save"]}]});await F("save_game",{file:f})}async function Re(){const f=await Et({multiple:!1,filters:[{name:"Saved",extensions:["save"]}]});if(f!==null&&typeof f=="string"){let m=await F("load_game",{file:f});V.clearRect(0,0,p,$);for(let _=0;_<m.length;_++){let[y,M,ge]=m[_];Se(V,r*M+r,r*y+r,r/2-2,ge===1?"black":"white")}let g=await F("init_states");a(5,L=[]),U=0;for(let _=0;_<g;_++){const y={id:U,name:`State ${L.length+1}`};a(5,L=[...L,y]),U+=1}}}function re(f){if(!Z){let _=l.getBoundingClientRect();E=_.left,c=_.top,Z=!0}let m=Math.round((f.clientX-E)/r)*r,g=Math.round((f.clientY-c)/r)*r;m=Math.min(r+r*h,Math.max(r,m)),g=Math.min(r+r*o,Math.max(r,g)),d.clearRect(0,0,p,$),Se(d,m,g,r/2-2,D)}async function $e(f){let m=Math.round((f.clientX-E)/r)*r,g=Math.round((f.clientY-c)/r)*r;m=Math.min(r+r*h,Math.max(r,m)),g=Math.min(r+r*o,Math.max(r,g));let _=Math.floor((g-r)/r),y=Math.floor((m-r)/r),M=D==="black"?1:2;if(!await F("validate",{x:_,y,color:M}))return;let ee=await F("tauri_move",{x:_,y,color:M});for(let ae=0;ae<ee.length;ae++){let[ce,Ae]=ee[ae];V.clearRect(r*Ae+r/2,r*ce+r/2,r,r)}Se(V,m,g,r/2-2,D),le&&(D=D==="black"?"white":"black")}async function K(){let f=await F("handle_undo");for(let m=0;m<f[1].length;m++){let[g,_]=f[1][m];V.clearRect(r*_+r/2,r*g+r/2,r,r)}for(let m=0;m<f[0].length;m++){let[g,_,y]=f[0][m];Se(V,r*_+r,r*g+r,r/2-2,y===1?"black":"white")}}async function De(){let f=await F("handle_redo");for(let m=0;m<f[1].length;m++){let[g,_]=f[1][m];V.clearRect(r*_+r/2,r*g+r/2,r,r)}for(let m=0;m<f[0].length;m++){let[g,_,y]=f[0][m];Se(V,r*_+r,r*g+r,r/2-2,y===1?"black":"white")}}async function ie(f){switch(f.key){case"ArrowLeft":await K();break;case"ArrowRight":await De();break}}async function J(){const f=await Et({multiple:!1,filters:[{name:"SGF",extensions:["sgf"]}]});if(f!==null&&typeof f=="string"){let m=await F("from_sgf_file",{file:f});V.clearRect(0,0,p,$),await F("reset");for(let g=0;g<m.length;g++){let[_,y,M]=m[g];Se(V,r*y+r,r*_+r,r/2-2,M===1?"black":"white")}}}function Q(){D="black",le=!0}function j(){D="white",le=!0}function Te(){D="black",le=!1}function x(){D="white",le=!1}function W(){let f=l.getBoundingClientRect();E=f.left,c=f.top}const ze=f=>Ee(f.id);function X(f){ut[f?"unshift":"push"](()=>{l=f,a(0,l)})}function G(f){ut[f?"unshift":"push"](()=>{n=f,a(1,n)})}function Y(f){ut[f?"unshift":"push"](()=>{s=f,a(2,s)})}return[l,n,s,p,$,L,Ve,Ee,ne,se,Re,re,$e,ie,J,Q,j,Te,x,ze,X,G,Y]}class ul extends Pe{constructor(e){super(),je(this,e,ol,ll,Ne,{},null,[-1,-1])}}export{ul as component};
